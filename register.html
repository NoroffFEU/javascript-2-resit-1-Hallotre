<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Old Games Platform</title>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Windows 98 Style Navigation -->
    <nav class="win98-nav">
        <div class="win98-nav-section">
            <a href="index.html" class="win98-logo">
                <i class="fas fa-gamepad"></i>Old Games
            </a>
        </div>
        <div class="win98-nav-section">
            <a href="login.html" class="win98-button">Login</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="win98-main" style="display: flex; align-items: center; justify-content: center; min-height: calc(100vh - 120px);">
        <div class="win98-window" style="width: 100%; max-width: 450px;">
            <!-- Title Bar -->
            <div class="win98-titlebar">
                <span><i class="fas fa-user-plus" style="margin-right: 4px;"></i>User Registration</span>
                <div style="display: flex; gap: 2px;">
                    <button style="width: 16px; height: 14px; font-size: 8px; padding: 0; border: 1px outset var(--win98-bg);">_</button>
                    <button style="width: 16px; height: 14px; font-size: 8px; padding: 0; border: 1px outset var(--win98-bg);" onclick="window.location.href='index.html'">×</button>
                </div>
            </div>

            <!-- Window Content -->
            <div class="win98-window-content">
                <div style="text-align: center; margin-bottom: 16px;">
                    <i class="fas fa-user-plus" style="font-size: 32px; color: var(--win98-disabled-text); margin-bottom: 8px;"></i>
                    <h2 style="font-size: 14px; font-weight: bold; margin: 0 0 4px 0;">Create your account</h2>
                    <p style="font-size: 10px; color: var(--win98-disabled-text); margin: 0;">
                        Or <a href="login.html" style="color: var(--win98-selected-bg); text-decoration: underline;">sign in to existing account</a>
                    </p>
                </div>

                <!-- Registration Form -->
                <form id="registerForm" style="margin-top: 16px;">
                    <!-- Error Message -->
                    <div id="errorMessage" class="hidden win98-error" style="margin-bottom: 8px;">
                        <div class="win98-error-content">
                            <span class="win98-error-icon">⚠</span>
                            <p id="errorText" style="margin: 0; font-size: 10px;"></p>
                        </div>
                    </div>

                    <!-- Success Message -->
                    <div id="successMessage" class="hidden" style="background: var(--win98-bg); border: 2px inset var(--win98-bg); padding: 8px; margin-bottom: 8px;">
                        <div style="display: flex; align-items: center; gap: 4px;">
                            <span style="color: green; font-weight: bold;">✓</span>
                            <p id="successText" style="margin: 0; font-size: 10px;"></p>
                        </div>
                    </div>

                    <div style="margin-bottom: 8px;">
                        <label for="name" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Username:
                        </label>
                        <div style="position: relative;">
                            <input id="name" name="name" type="text" autocomplete="username" required
                                   class="win98-input" style="width: 100%; padding-left: 20px;"
                                   placeholder="my_username">
                            <div style="position: absolute; left: 4px; top: 50%; transform: translateY(-50%); color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-user" style="font-size: 10px;"></i>
                            </div>
                        </div>
                        <p style="margin: 2px 0 0 0; font-size: 9px; color: var(--win98-disabled-text);">Letters, numbers, underscores only</p>
                    </div>

                    <div style="margin-bottom: 8px;">
                        <label for="email" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Email address:
                        </label>
                        <div style="position: relative;">
                            <input id="email" name="email" type="email" autocomplete="email" required
                                   class="win98-input" style="width: 100%; padding-left: 20px;"
                                   placeholder="your.email@stud.noroff.no">
                            <div style="position: absolute; left: 4px; top: 50%; transform: translateY(-50%); color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-envelope" style="font-size: 10px;"></i>
                            </div>
                        </div>
                        <p style="margin: 2px 0 0 0; font-size: 9px; color: var(--win98-disabled-text);">Must be stud.noroff.no email</p>
                    </div>

                    <div style="margin-bottom: 8px;">
                        <label for="password" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Password:
                        </label>
                        <div style="position: relative;">
                            <input id="password" name="password" type="password" autocomplete="new-password" required
                                   class="win98-input" style="width: 100%; padding-left: 20px; padding-right: 20px;"
                                   placeholder="Password">
                            <div style="position: absolute; left: 4px; top: 50%; transform: translateY(-50%); color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-lock" style="font-size: 10px;"></i>
                            </div>
                            <button type="button" id="togglePassword" class="win98-button" style="position: absolute; right: 2px; top: 1px; bottom: 1px; width: 18px; min-height: auto; padding: 0; font-size: 8px;">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <p style="margin: 2px 0 0 0; font-size: 9px; color: var(--win98-disabled-text);">Minimum 8 characters</p>
                    </div>

                    <div style="margin-bottom: 8px;">
                        <label for="bio" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Bio (optional):
                        </label>
                        <div style="position: relative;">
                            <textarea id="bio" name="bio" rows="2" maxlength="160"
                                      class="win98-input" style="width: 100%; padding-left: 20px; resize: none; font-size: 10px;"
                                      placeholder="Tell us about yourself..."></textarea>
                            <div style="position: absolute; left: 4px; top: 4px; color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-info-circle" style="font-size: 10px;"></i>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 8px;">
                        <label for="avatar" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Avatar URL (optional):
                        </label>
                        <div style="position: relative;">
                            <input id="avatar" name="avatar" type="url"
                                   class="win98-input" style="width: 100%; padding-left: 20px;"
                                   placeholder="https://example.com/avatar.jpg">
                            <div style="position: absolute; left: 4px; top: 50%; transform: translateY(-50%); color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-image" style="font-size: 10px;"></i>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label for="avatarAlt" style="display: block; font-size: 11px; font-weight: bold; margin-bottom: 2px;">
                            Avatar Description:
                        </label>
                        <div style="position: relative;">
                            <input id="avatarAlt" name="avatarAlt" type="text" maxlength="120"
                                   class="win98-input" style="width: 100%; padding-left: 20px;"
                                   placeholder="Avatar description">
                            <div style="position: absolute; left: 4px; top: 50%; transform: translateY(-50%); color: var(--win98-disabled-text); pointer-events: none;">
                                <i class="fas fa-font" style="font-size: 10px;"></i>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <button type="submit" id="registerButton" class="win98-button" style="width: 100%; padding: 6px; font-weight: bold;">
                            <span id="registerButtonText">
                                <i class="fas fa-user-plus" style="margin-right: 4px;"></i>Create Account
                            </span>
                            <span id="registerSpinner" class="hidden" style="margin-left: 4px;">
                                <i class="fas fa-spinner fa-spin"></i>
                            </span>
                        </button>
                    </div>

                    <div style="text-align: center;">
                        <a href="index.html" class="win98-button" style="text-decoration: none; font-size: 10px;">
                            <i class="fas fa-arrow-left" style="margin-right: 2px;"></i>
                            Back to Games
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Windows 98 Style Status Bar -->
    <div class="win98-status-bar">
        <span>Ready</span>
        <span>Account Registration</span>
    </div>

    <!-- Footer -->
    <footer class="win98-footer">
        <p>© 2025 Old Games Platform. Built with JavaScript and Windows 98 Style CSS.</p>
    </footer>

    <script type="module" src="js/auth.js"></script>
</body>
</html> 